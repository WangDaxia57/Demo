window.pager={setPage:function(a){function n(){t==s?l[l.length]='<li href="#" class="active"><a href="javascript:void(0)">'+s+"</a></li>":l[l.length]='<li href="#"><a href="javascript:void(0)">'+s+"</a></li>"}var e=a.pageContainer,i=a.count,t=a.pageindex,l=(a.url,[]);if(1==t?l[l.length]='<ul class="pagination"><li href="#" class="prev no-page- unclick">上一页</li>':l[l.length]='<ul class="pagination"><li href="#" class="prev"><a href="javascript:void(0)">上一页</a></li>',10>=i)for(var s=1;i>=s;s++)n();else if(4>=t){for(var s=1;5>=s;s++)n();l[l.length]="<li class='stop' onclick='return false;'><span>...</span></li><li href=\"#\"><a href=\"javascript:void(0)\">"+i+"</a></li>"}else if(t>=i-3){l[l.length]="<li href=\"#\"><a href=\"javascript:void(0)\">1</a></li><li class='stop' onclick='return false;'><span>...</span></li>";for(var s=i-4;i>=s;s++)n()}else{l[l.length]="<li href=\"#\"><a href=\"javascript:void(0)\">1</a></li><li class='stop' onclick='return false;''><span>...</span></li>";for(var s=t-2;t+2>=s;s++)n();l[l.length]='<li onclick=\'javascript:void(0);\'><span>...</span></li><li href="#"><a href="javascript:void(0)">'+i+"</a></li>"}t==i?l[l.length]='<li href="#" class="next unclick no-page- ">下一页</li></ul>':l[l.length]='<li href="#" class="next"><a href="javascript:void(0)">下一页</a></li></ul>',e.html(l.join("")),a.pageContainer=e,this.bindEvent(a)},getHtml:function(a){var n=a.htmlContainer,e=a.pageindex,i=a.url,t=a.data;t=$.extend({page:e},t),i.length>0&&e>0&&null!=n&&null!=t&&$.ajax({url:i,data:t,method:"GET",dataType:"json",async:!1}).done(function(a){if(200==a.status){var e=a.data.html;e.length>0?(n.html("").html(e),n.hasClass("done")||n.addClass("done")):n.html("").html('<div class="content">暂无更多内容</div>')}})},bindEvent:function(a){var n=a.pageContainer,e=a.count,i=a.pageindex,t=(a.url,n.find("li"));t.on("click",function(){var n=$(this);if(!n.hasClass("stop")){var l=t.index(n);return 0==l?1==i?!1:(a.pageindex=--i,window.pager.getHtml(a),window.pager.setPage(a),!1):t.size()-1==l?i==e?!1:(a.pageindex=++i,window.pager.getHtml(a),window.pager.setPage(a),!1):(a.pageindex=parseInt(n.find("a").html()),window.pager.getHtml(a),window.pager.setPage(a),!1)}})},init:function(a){var n=a.count,e=a.pageContainer;n>0?this.setPage(a):e.html("")}},container.on("click","a.replay-btn",function(){var a=$(this),n=a.parents(".reply").siblings(".relaylist");n.hasClass("show")?n.removeClass("show"):(n.addClass("show"),n.find(".cover-ad").lazyload());var e={};e.htmlContainer=n.find(".html-container"),e.pageContainer=n.find(".page-container"),e.count=parseInt(a.data("count")||0),e.pageindex=1,e.url="/api/v1/book/replys",e.data={},e.data.commentId=n.data("id"),e.count<=1||(window.pager.init(e),e.htmlContainer.hasClass("done"))});